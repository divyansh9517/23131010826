{"ast":null,"code":"var _jsxFileName = \"/home/divyansh-saxena/url_shortner_app/frontend/src/pages/HomePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { TextField, Button, Grid, Typography, Paper } from \"@mui/material\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HomePage = () => {\n  _s();\n  const [urls, setUrls] = useState([{\n    url: \"\",\n    validity: \"\",\n    shortcode: \"\"\n  }]);\n  const [results, setResults] = useState([]);\n  const handleChange = (index, field, value) => {\n    const newUrls = [...urls];\n    newUrls[index][field] = value;\n    setUrls(newUrls);\n  };\n  const handleSubmit = async () => {\n    const newResults = [];\n    for (let input of urls) {\n      try {\n        const res = await axios.post(\"http://localhost:5000/shorturls\", {\n          url: input.url,\n          validity: parseInt(input.validity) || undefined,\n          shortcode: input.shortcode || undefined\n        });\n        newResults.push(res.data);\n      } catch (err) {\n        var _err$response, _err$response$data;\n        newResults.push({\n          error: ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Failed\"\n        });\n      }\n    }\n    setResults(newResults);\n  };\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 3,\n    sx: {\n      padding: 4,\n      mt: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"URL Shortener\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), urls.map((entry, i) => /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      sx: {\n        mb: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 5,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"URL\",\n          value: entry.url,\n          onChange: e => handleChange(i, \"url\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 3,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Validity (min)\",\n          value: entry.validity,\n          onChange: e => handleChange(i, \"validity\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 3,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Shortcode (optional)\",\n          value: entry.shortcode,\n          onChange: e => handleChange(i, \"shortcode\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this)), urls.length < 5 && /*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => setUrls([...urls, {\n        url: \"\",\n        validity: \"\",\n        shortcode: \"\"\n      }]),\n      children: \"+ Add Another URL\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      onClick: handleSubmit,\n      children: \"Shorten URLs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), results.map((res, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: res.shortLink ? /*#__PURE__*/_jsxDEV(Typography, {\n        children: [\"\\u2705 \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: res.shortLink,\n          target: \"_blank\",\n          rel: \"noreferrer\",\n          children: res.shortLink\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), \" (Expires at: \", new Date(res.expiry).toLocaleString(), \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: [\"\\u274C \", res.error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this)\n    }, idx, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n_s(HomePage, \"l5wtos3Cdq+r/LiTPp+W/z17YeI=\");\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useState","TextField","Button","Grid","Typography","Paper","axios","jsxDEV","_jsxDEV","HomePage","_s","urls","setUrls","url","validity","shortcode","results","setResults","handleChange","index","field","value","newUrls","handleSubmit","newResults","input","res","post","parseInt","undefined","push","data","err","_err$response","_err$response$data","error","response","elevation","sx","padding","mt","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","map","entry","i","container","spacing","mb","item","xs","sm","fullWidth","label","onChange","e","target","length","onClick","idx","shortLink","href","rel","Date","expiry","toLocaleString","color","_c","$RefreshReg$"],"sources":["/home/divyansh-saxena/url_shortner_app/frontend/src/pages/HomePage.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { TextField, Button, Grid, Typography, Paper } from \"@mui/material\";\nimport axios from \"axios\";\n\nconst HomePage = () => {\n  const [urls, setUrls] = useState([{ url: \"\", validity: \"\", shortcode: \"\" }]);\n  const [results, setResults] = useState([]);\n\n  const handleChange = (index, field, value) => {\n    const newUrls = [...urls];\n    newUrls[index][field] = value;\n    setUrls(newUrls);\n  };\n\n  const handleSubmit = async () => {\n    const newResults = [];\n    for (let input of urls) {\n      try {\n        const res = await axios.post(\"http://localhost:5000/shorturls\", {\n          url: input.url,\n          validity: parseInt(input.validity) || undefined,\n          shortcode: input.shortcode || undefined,\n        });\n        newResults.push(res.data);\n      } catch (err) {\n        newResults.push({ error: err.response?.data?.error || \"Failed\" });\n      }\n    }\n    setResults(newResults);\n  };\n\n  return (\n    <Paper elevation={3} sx={{ padding: 4, mt: 4 }}>\n      <Typography variant=\"h4\" gutterBottom>\n        URL Shortener\n      </Typography>\n      {urls.map((entry, i) => (\n        <Grid container spacing={2} key={i} sx={{ mb: 2 }}>\n          <Grid item xs={12} sm={5}>\n            <TextField fullWidth label=\"URL\" value={entry.url} onChange={(e) => handleChange(i, \"url\", e.target.value)} />\n          </Grid>\n          <Grid item xs={12} sm={3}>\n            <TextField fullWidth label=\"Validity (min)\" value={entry.validity} onChange={(e) => handleChange(i, \"validity\", e.target.value)} />\n          </Grid>\n          <Grid item xs={12} sm={3}>\n            <TextField fullWidth label=\"Shortcode (optional)\" value={entry.shortcode} onChange={(e) => handleChange(i, \"shortcode\", e.target.value)} />\n          </Grid>\n        </Grid>\n      ))}\n      {urls.length < 5 && (\n        <Button onClick={() => setUrls([...urls, { url: \"\", validity: \"\", shortcode: \"\" }])}>\n          + Add Another URL\n        </Button>\n      )}\n      <br /><br />\n      <Button variant=\"contained\" onClick={handleSubmit}>Shorten URLs</Button>\n      <br /><br />\n      {results.map((res, idx) => (\n        <div key={idx}>\n          {res.shortLink ? (\n            <Typography>\n              ✅ <a href={res.shortLink} target=\"_blank\" rel=\"noreferrer\">{res.shortLink}</a> (Expires at: {new Date(res.expiry).toLocaleString()})\n            </Typography>\n          ) : (\n            <Typography color=\"error\">❌ {res.error}</Typography>\n          )}\n        </div>\n      ))}\n    </Paper>\n  );\n};\n\nexport default HomePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}